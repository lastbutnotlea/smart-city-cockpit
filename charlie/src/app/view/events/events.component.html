<div class="d-flex flex-column fit-screen">
  <h3 class="text-center margin-bottom-30">{{title}}</h3>
  <div class="no-float margin-bottom-30">
    <button class="btn btn-outline-primary no-float" (click)="addEvent()">Add</button>
  </div>

  <div class="d-flex flex-row fit-screen margin-right-10">
    <table class="table table-width">
      <div *ngIf="!isLoaded()">
        <h3>Loading...</h3>
      </div>
      <thead>
      <tr>
        <th>Event-ID</th>
        <th>Subject</th>
        <th nowrap>Priority</th>
        <th>Starts</th>
        <th>Ends</th>
        <th>Involved Parties</th>
        <th>Notes</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let event of events">
        <td>
          <a routerLink="detail/{{event.id}}">
            {{ event.id }}
          </a>
        </td>
        <td>{{event.subject}}</td>
        <td>{{event.priority}}</td>
        <td>{{event.startTime | date:'MM/dd/yyyy HH:mm'}}</td>
        <td>{{event.endTime | date:'MM/dd/yyyy HH:mm'}}</td>
        <td>
          <label *ngFor="let party of event.appointmentInvolvedParties">
            {{party.partyName}}
          </label>
        </td>
        <td>
          <label *ngFor="let note of event.appointmentNotes">
            {{note.text}}
          </label>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
