<div *ngIf="!loaded">
  <h3>Loading...</h3>
</div>

<div class="fit-screen d-flex flex-column" *ngIf="loaded">

  <h3 class="text-center">
    <div [ngClass]="{'color-fine': stop.state === 'FINE',
       'color-problematic': stop.state === 'PROBLEMATIC',
       'color-critical': stop.state === 'CRITICAL' }">
      <i class="fa fa-lightbulb-o fa-2x float-right padding-right-20" aria-hidden="true"></i>
    </div>
    {{title}}
    <label class="text-primary">{{stop.commonName}}</label>
  </h3>
  <div class="no-float margin-bottom-30">
    <button class="btn btn-outline-secondary" (click)="goBack()">Back</button>
  </div>

  <div class="d-flex">
    <div class="flex-3 bounding-box">
      <app-embedded-feedback [feedback]="feedback"></app-embedded-feedback>
    </div>

    <div class="d-flex flex-1 flex-column bounding-box">
      <h4 class="text-lg-left">
        <div [ngClass]="{'color-fine': stop.state === 'FINE',
       'color-problematic': stop.state === 'PROBLEMATIC',
       'color-critical': stop.state === 'CRITICAL' }">
          <i class="fa fa-lightbulb-o fa-2x float-right" aria-hidden="true"></i>
        </div>
        <i class="fa fa-map-marker fa-2x float-left padding-left-5 text-primary"></i>
        <label class="padding-emb-box-headline">Stop</label>
      </h4>

      <p class="text-primary"><label class="text-secondary">ID: </label> {{stop.id}}</p>
      <p><label class="text-secondary">People waiting: </label> {{stop.peopleWaiting}}</p>
      <div>
        <label *ngIf="lineForStopDataInbound.length>0" class="text-secondary">Lines inbound:</label>
        <label *ngFor="let line of lineForStopDataInbound; let i=index">
          <label *ngIf="i>0">,</label>
          <label>{{line.line}}</label>
        </label>
      </div>
      <div>
        <label *ngIf="lineForStopDataOutbound.length>0" class="text-secondary">Lines outbound:</label>
        <label *ngFor="let line of lineForStopDataOutbound; let i=index">
          <label *ngIf="i>0">,</label>
          <label>{{line.line}}</label>
        </label>
      </div>
    </div>
  </div>
</div>
